<?xml version="1.0"?>
<unity>
  <assembly name="Sdl.Web.Tridion" />
  <namespace name="Sdl.Web.Tridion" />
  <namespace name="Sdl.Web.Tridion.Linking" />
  <namespace name="Sdl.Web.Tridion.Context" />
  <namespace name="Sdl.Web.Tridion.Mapping" />
  <namespace name="Sdl.Web.Tridion.ModelService" />
  <namespace name="Sdl.Web.Tridion.Navigation" />
  <namespace name="Sdl.Web.Tridion.Statics" />
  <namespace name="Sdl.Web.Tridion.Caching" />
  <assembly name="Sdl.Web.Mvc" />
  <namespace name="Sdl.Web.Mvc.Configuration" />
  <namespace name="Sdl.Web.Mvc.ContentProvider" />
  <namespace name="Sdl.Web.Mvc.Controllers" />
  <namespace name="Sdl.Web.Mvc.Html" />
  <namespace name="Sdl.Web.Mvc.Statics" />
  <assembly name="Sdl.Web.Common" />
  <namespace name="Sdl.Web.Common.Configuration" />
  <namespace name="Sdl.Web.Common.Interfaces" />
  <namespace name="Sdl.Web.Common.Logging" />
  <namespace name="Sdl.Web.Common.Mapping" />
  <namespace name="Sdl.Web.Common.Models" />
  <!-- Comment out the following line when configuring for DXA 2.0 -->
  <namespace name="Sdl.Web.Tridion.Providers.Binary" />
  <assembly name="Sdl.Web.Modules.DynamicDocumentation" />
  <namespace name="Sdl.Web.Modules.DynamicDocumentation.Localization" />
  <namespace name="Sdl.Web.Modules.DynamicDocumentation.Providers" />
  <typeAliases>
    <!-- Lifetime manager types -->
    <typeAlias alias="singleton" type="Microsoft.Practices.Unity.ContainerControlledLifetimeManager, Unity.Configuration" />
    <typeAlias alias="external" type="Microsoft.Practices.Unity.ExternallyControlledLifetimeManager, Unity.Configuration" />
  </typeAliases>
  <!-- Unity Configuration -->
  <containers>
    <container name="main">
      <types>
        <!-- Map the implementations to the interfaces -->
        <!-- Common default implementations between DXA 2.0 and DXA 2.1 -->
        <type type="ILogger" mapTo="Log4NetLogger">
          <lifetime type="singleton" />
        </type>
        <type type="ICacheProvider" mapTo="DefaultCacheProvider">
          <lifetime type="singleton" />
        </type>
        <type type="IMediaHelper" mapTo="BaseMediaHelper">
          <lifetime type="singleton" />
        </type>
        <type type="INavigationProvider" mapTo="DynamicNavigationProvider">
          <lifetime type="singleton" />
        </type>
        <type type="IContextClaimsProvider" mapTo="ContextServiceClaimsProvider">
          <lifetime type="singleton" />
        </type>
        <!-- DXA 2.0 default provider implementations -->
        <!--
        <type type="ILocalizationResolver" mapTo="CdApiLocalizationResolver">
          <lifetime type="singleton" />
        </type>
        <type type="IModelServiceProvider" mapTo="DefaultModelServiceProvider">
          <lifetime type="singleton" />
        </type>
        <type type="IContentProvider" mapTo="DefaultContentProvider">
          <lifetime type="singleton" />
        </type>
        <type type="ILinkResolver" mapTo="DefaultLinkResolver">
          <lifetime type="singleton" />
        </type>
        -->
        <!-- DXA 2.1 default provider implementations -->
        <type type="ILocalizationResolver" mapTo="DynamicDocumentationLocalizationResolver">
          <lifetime type="singleton" />
        </type>
        <type type="IModelServiceProvider" mapTo="GraphQLModelServiceProvider">
          <lifetime type="singleton" />
        </type>
        <type type="IContentProvider" mapTo="GraphQLContentProvider">
          <lifetime type="singleton" />
        </type>
        <type type="ILinkResolver" mapTo="GraphQLLinkResolver">
          <lifetime type="singleton" />
        </type>
        <!-- Only available in DXA 2.1 -->
        <type type="IBinaryProvider" mapTo="GraphQLBinaryProvider">
          <lifetime type="singleton" />
        </type>
      </types>
    </container>
  </containers>
</unity>